# æ“ä½œæ¬¡æ•°åŠŸèƒ½å®ç°æ€»ç»“

## ğŸ¯ åŠŸèƒ½æ¦‚è¿°
ä¸ºUIè‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶å¢åŠ äº†æ“ä½œæ¬¡æ•°åŠŸèƒ½ï¼Œå…è®¸ç”¨æˆ·ä¸ºæ¯ä¸ªæµ‹è¯•æ­¥éª¤è®¾ç½®é‡å¤æ‰§è¡Œçš„æ¬¡æ•°ã€‚

## âœ… å®ç°çš„åŠŸèƒ½

### 1. å‰ç«¯ç•Œé¢å¢å¼º
- **ä½ç½®**: `static/js/automationManagement.js`
- **æ–°å¢å­—æ®µ**: åœ¨æµ‹è¯•æ­¥éª¤é…ç½®ä¸­æ·»åŠ äº†"æ“ä½œæ¬¡æ•°"è¾“å…¥æ¡†
- **é»˜è®¤å€¼**: é»˜è®¤ä¸º1æ¬¡
- **éªŒè¯**: ç¡®ä¿è¾“å…¥ä¸ºæ­£æ•´æ•°
- **UIä½ç½®**: ç´§é‚»"æš‚åœæ—¶é—´"å­—æ®µï¼Œä¿æŒç•Œé¢å¸ƒå±€çš„ä¸€è‡´æ€§

### 2. åç«¯æ•°æ®å¤„ç†
- **ä½ç½®**: `api/automation_management.py`
- **åŠŸèƒ½**: 
  - è§£æå‰ç«¯ä¼ å…¥çš„`operation_count`å‚æ•°
  - æ•°æ®éªŒè¯å’Œç±»å‹è½¬æ¢
  - æ— æ•ˆå€¼è‡ªåŠ¨å›é€€åˆ°é»˜è®¤å€¼1
  - åœ¨è­¦å‘Šæ—¥å¿—ä¸­è®°å½•æ— æ•ˆè¾“å…¥

### 3. æµ‹è¯•ä»£ç ç”Ÿæˆ
- **æ ¸å¿ƒé€»è¾‘**: åœ¨`generate_test_code`å‡½æ•°ä¸­å®ç°
- **ç”Ÿæˆè§„åˆ™**:
  ```python
  # åœ¨ç”Ÿæˆçš„æµ‹è¯•ä»£ç ä¸­æ·»åŠ å¾ªç¯
  for attempt in range(operation_count):
      # åŸæœ‰çš„æ“ä½œé€»è¾‘
      print(f"ç¬¬{attempt + 1}æ¬¡æ“ä½œ")
      # æ‰§è¡Œå…·ä½“æ“ä½œ...
  ```

### 4. æ”¯æŒçš„æ“ä½œç±»å‹
- âœ… Webæ“ä½œ (ç‚¹å‡»ã€åŒå‡»ã€è¾“å…¥ç­‰)
- âœ… æ¸¸æˆæ“ä½œ (å›¾ç‰‡è¯†åˆ«ç‚¹å‡»ã€åŒå‡»ç­‰)
- âœ… æ‰€æœ‰ç°æœ‰çš„æ“ä½œäº‹ä»¶ç±»å‹

## ğŸ”§ æŠ€æœ¯å®ç°ç»†èŠ‚

### å‰ç«¯å®ç°
```javascript
// åœ¨æ­¥éª¤é…ç½®ä¸­æ·»åŠ æ“ä½œæ¬¡æ•°å­—æ®µ
const operationCountInput = document.createElement('input');
operationCountInput.type = 'number';
operationCountInput.min = '1';
operationCountInput.value = step.operation_count || 1;
operationCountInput.className = 'form-control';
```

### åç«¯æ•°æ®éªŒè¯
```python
# å®‰å…¨çš„ç±»å‹è½¬æ¢å’ŒéªŒè¯
try:
    operation_count = int(step.get('operation_count', 1))
    if operation_count < 1:
        operation_count = 1
        print(f"è­¦å‘Š: æ­¥éª¤ {i+1} çš„æ“ä½œæ¬¡æ•°æ— æ•ˆï¼Œä½¿ç”¨é»˜è®¤å€¼ 1")
except (ValueError, TypeError):
    operation_count = 1
    print(f"è­¦å‘Š: æ­¥éª¤ {i+1} çš„æ“ä½œæ¬¡æ•°æ— æ•ˆï¼Œä½¿ç”¨é»˜è®¤å€¼ 1")
```

### æµ‹è¯•ä»£ç ç”Ÿæˆ
```python
# ä¸ºæ¯ä¸ªæ­¥éª¤ç”Ÿæˆé‡å¤æ‰§è¡Œçš„å¾ªç¯
code_lines.append(f"    # {step_name} (æ“ä½œæ¬¡æ•°: {operation_count})")
code_lines.append("    print(f'å¼€å§‹æ‰§è¡Œæ­¥éª¤: {step_name}')")
code_lines.append("")
code_lines.append(f"    for attempt in range({operation_count}):")
code_lines.append(f"        print(f'ç¬¬{{attempt + 1}}æ¬¡æ“ä½œ: {step_name}')")
```

## ğŸ§ª æµ‹è¯•éªŒè¯

### æµ‹è¯•åœºæ™¯
1. **æ­£å¸¸æ•°å€¼æµ‹è¯•**: è®¾ç½®ä¸åŒçš„æ“ä½œæ¬¡æ•°(1, 2, 3, 5)
2. **è¾¹ç•Œå€¼æµ‹è¯•**: æµ‹è¯•æœ€å°å€¼(1)å’Œè¾ƒå¤§å€¼
3. **æ— æ•ˆè¾“å…¥æµ‹è¯•**: æµ‹è¯•è´Ÿæ•°ã€é›¶ã€éæ•°å­—å­—ç¬¦ä¸²
4. **ç±»å‹è½¬æ¢æµ‹è¯•**: æµ‹è¯•å­—ç¬¦ä¸²æ•°å­—çš„æ­£ç¡®è½¬æ¢

### éªŒè¯ç»“æœ
- âœ… ç”Ÿæˆçš„æµ‹è¯•ä»£ç åŒ…å«æ­£ç¡®çš„å¾ªç¯æ¬¡æ•°
- âœ… æ— æ•ˆè¾“å…¥èƒ½æ­£ç¡®å›é€€åˆ°é»˜è®¤å€¼
- âœ… é”™è¯¯æ—¥å¿—è®°å½•åŠŸèƒ½æ­£å¸¸
- âœ… å‰ç«¯ç•Œé¢æ˜¾ç¤ºå’Œäº¤äº’æ­£å¸¸

## ğŸ“‹ ä½¿ç”¨ç¤ºä¾‹

### å‰ç«¯é…ç½®
ç”¨æˆ·åœ¨åˆ›å»ºæµ‹è¯•æ­¥éª¤æ—¶ï¼Œå¯ä»¥è®¾ç½®ï¼š
- æ“ä½œç±»å‹: Web
- æ“ä½œäº‹ä»¶: click
- æ“ä½œå‚æ•°: id=submitButton
- **æ“ä½œæ¬¡æ•°: 3** â† æ–°å¢åŠŸèƒ½
- æš‚åœæ—¶é—´: 2

### ç”Ÿæˆçš„æµ‹è¯•ä»£ç 
```python
def test_process():
    print("å¼€å§‹æ‰§è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•...")
    
    # æäº¤æŒ‰é’®ç‚¹å‡» (æ“ä½œæ¬¡æ•°: 3)
    print(f'å¼€å§‹æ‰§è¡Œæ­¥éª¤: æäº¤æŒ‰é’®ç‚¹å‡»')
    
    for attempt in range(3):
        print(f'ç¬¬{attempt + 1}æ¬¡æ“ä½œ: æäº¤æŒ‰é’®ç‚¹å‡»')
        
        # æ‰§è¡ŒWebç‚¹å‡»æ“ä½œ
        element = driver.find_element(By.ID, "submitButton")
        element.click()
        print(f"å·²ç‚¹å‡»å…ƒç´ : submitButton")
        
        time.sleep(2)  # æš‚åœæ—¶é—´
```

## ğŸ¯ åŠŸèƒ½äº®ç‚¹

1. **å‘åå…¼å®¹**: ç°æœ‰é¡¹ç›®æ— éœ€ä¿®æ”¹ï¼Œè‡ªåŠ¨ä½¿ç”¨é»˜è®¤å€¼1
2. **å¥å£®æ€§**: å®Œå–„çš„é”™è¯¯å¤„ç†å’Œæ•°æ®éªŒè¯
3. **ç”¨æˆ·å‹å¥½**: æ¸…æ™°çš„ç•Œé¢è®¾è®¡å’Œé”™è¯¯æç¤º
4. **ä»£ç è´¨é‡**: ç”Ÿæˆçš„æµ‹è¯•ä»£ç åŒ…å«è¯¦ç»†çš„æ—¥å¿—å’Œè¿›åº¦æç¤º
5. **æ‰©å±•æ€§**: æ¡†æ¶è®¾è®¡æ”¯æŒæœªæ¥æ›´å¤šçš„é‡å¤æ“ä½œéœ€æ±‚

## ğŸš€ åç»­ä¼˜åŒ–å»ºè®®

1. **æ€§èƒ½ä¼˜åŒ–**: å¯¹äºé«˜æ¬¡æ•°é‡å¤æ“ä½œï¼Œå¯ä»¥æ·»åŠ è¿›åº¦æ¡æ˜¾ç¤º
2. **æ™ºèƒ½ç­‰å¾…**: å¯ä»¥è€ƒè™‘åœ¨é‡å¤æ“ä½œé—´æ·»åŠ æ™ºèƒ½ç­‰å¾…ç­–ç•¥
3. **æ“ä½œå˜ä½“**: æ”¯æŒåœ¨é‡å¤æ“ä½œä¸­ä½¿ç”¨ä¸åŒçš„å‚æ•°
4. **ç»Ÿè®¡æŠ¥å‘Š**: åœ¨æ‰§è¡ŒæŠ¥å‘Šä¸­æ˜¾ç¤ºæ¯ä¸ªæ­¥éª¤çš„å®é™…æ‰§è¡Œæ¬¡æ•°

---
**å®ç°æ—¶é—´**: 2025-08-21  
**åŠŸèƒ½çŠ¶æ€**: âœ… å·²å®Œæˆå¹¶æµ‹è¯•éªŒè¯  
**å½±å“èŒƒå›´**: å‰ç«¯ç•Œé¢ã€åç«¯APIã€æµ‹è¯•ä»£ç ç”Ÿæˆå™¨ 